<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="main.css"/>
  <title>My app</title>
</head>
<body>
  <div>
    <label for="message">Message:</label>
    <input id="message" />
    <button id="close">Close</button>
    <button id="accept" disabled="disabled">Accept</button>
    <button id="modal">Open nested modal</button>
  </div>
  <script src="modal.js"></script>
  <script>
  document.getElementById('close').addEventListener('click', () => {
    modalInstance.dismiss();
  });

  document.getElementById('modal').addEventListener('click', () => {
    modal.open({ url: 'nested.html' }).then(
      (val) => console.log('From nested: ' + val),
      () => console.log('Nested dismissed')
    );
  });

  const message = document.getElementById('message');
  const accept = document.getElementById('accept');
  setInterval(() => { accept.disabled = !message.value; }, 100);
  accept.addEventListener('click', () => {
    modalInstance.close(message.value);
  });
  </script>
</body>
